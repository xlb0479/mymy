# 集群网络

网络是k8s的核心概念之一，但是研究其原理也是一个很有挑战性的任务。这里要强调4个不同的网络问题：

- 1.高耦合容器对容器通信：这是通过[Pod](../业务组件/泡德（Pod）/Pod.md)和`localhost`通信来解决的。
- 2.Pod to Pod通信：这是本文主要讲的东西。
- 3.Pod to Service通信：这部分在[Service](../Service，负载均衡，网络/Service.md)中。
- 4.外部到Service的通信：这部分也在[Service](../Service，负载均衡，网络/Service.md)中。

k8s的关键就是在多个应用之间共享机器。一般来说共享机器的话两个应用就不能用同样的端口。在多个开发者之间协调端口非常困难，而且还将用户暴露在他们无法控制的集群级别的问题上。

而如果要用动态端口分配，也会给系统带来一堆并发症——每个应用要添加端口选项，apiserver要知道如何将动态端口号插入到配置中，Service要知道如何找到彼此，等等。实在是不想处理这些烂事儿，k8s选了一条不同的路。